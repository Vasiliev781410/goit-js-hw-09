{"mappings":"YACe,IAATA,EAAOC,SAASC,cAAc,SAC9BC,EAAWF,SAASC,cAAc,uBAClCE,EAAeH,SAASC,cAAc,sBACtCG,EAAYJ,SAASC,cAAc,wBAEzC,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACT,IAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAc,CAACT,SAAUA,EAAUC,MAAOA,GAC5CK,EACFH,EAAQM,GAERL,EAAOK,E,GAERR,E,IAKP,IAAIS,EAAe,EAoBnBjB,EAAKkB,iBAAiB,UAlBE,SAACC,GACvBA,EAAMC,iBACN,IAAK,IAAIC,EAAI,EAAGA,GAAMhB,EAAUiB,MAAQD,IAMtCf,EAAce,EAJZJ,GADQ,IAANI,EACcE,SAASpB,EAASmB,OAElBC,SAASnB,EAAakB,QAGvCE,MAAK,SAAAC,G,IAAGlB,EAAQkB,EAARlB,SAAUC,EAAKiB,EAALjB,MACjBkB,QAAQC,IAAI,uBAAwCC,OAAfrB,EAAS,QAAYqB,OAANpB,EAAM,M,IAE3DqB,OAAM,SAAAJ,G,IAAGlB,EAAQkB,EAARlB,SAAUC,EAAKiB,EAALjB,MAClBkB,QAAQC,IAAI,sBAAqCC,OAAfrB,EAAS,QAAYqB,OAANpB,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["// получим элементы\nconst form = document.querySelector(\".form\");\nconst inpDelay = document.querySelector(\"input[name='delay']\");\nconst inpDelayStep = document.querySelector(\"input[name='step']\");\nconst inpAmount = document.querySelector(\"input[name='amount']\");\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      const promiseData = {position: position, delay: delay};\n      if (shouldResolve) {           \n        resolve(promiseData);\n      } else { \n        reject(promiseData);   \n      };\n    }, delay);\n  });  \n};\n\n\nlet currentDelay = 0; \n\nconst promiseGenerate = (event) =>{\n  event.preventDefault();\n  for (let i = 1; i <= (inpAmount.value); i++) {\n    if (i === 1) {\n      currentDelay += parseInt(inpDelay.value); \n    } else {\n      currentDelay += parseInt(inpDelayStep.value); \n    }        \n    createPromise(i,currentDelay)\n    .then(({ position, delay }) => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);  \n    })\n    .catch(({ position, delay }) => {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n  } \n};\n\nform.addEventListener(\"submit\",promiseGenerate);\n"],"names":["$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$inpDelay","$ce04d3a99e08e73b$var$inpDelayStep","$ce04d3a99e08e73b$var$inpAmount","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","shouldResolve","Math","random","promiseData","$ce04d3a99e08e73b$var$currentDelay","addEventListener","event","preventDefault","i","value","parseInt","then","param","console","log","concat","catch"],"version":3,"file":"03-promises.7d5c0c9f.js.map"}