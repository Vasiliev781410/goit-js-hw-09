{"mappings":"AACe,MAATA,EAAOC,SAASC,cAAc,SAC9BC,EAAWF,SAASC,cAAc,uBAClCE,EAAeH,SAASC,cAAc,sBACtCG,EAAYJ,SAASC,cAAc,wBAEzC,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACT,MAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAc,CAACT,SAAUA,EAAUC,MAAOA,GAC5CK,EACFH,EAAQM,GAERL,EAAOK,EAAY,GAEpBR,EAAM,G,CAKb,IAAIS,EAAe,EAoBnBjB,EAAKkB,iBAAiB,UAlBGC,IACvBA,EAAMC,iBACN,IAAK,IAAIC,EAAI,EAAGA,GAAMhB,EAAUiB,MAAQD,IAEpCJ,GADQ,IAANI,EACcE,SAASpB,EAASmB,OAElBC,SAASnB,EAAakB,OAExChB,EAAce,EAAEJ,GACfO,MAAK,EAACjB,SAAEA,EAAQC,MAAEA,MACjBiB,QAAQC,IAAI,uBAAqBnB,QAAiBC,MAAU,IAE7DmB,OAAM,EAACpB,SAAEA,EAAQC,MAAEA,MAClBiB,QAAQC,IAAI,sBAAoBnB,QAAeC,MAAU,G","sources":["src/js/03-promises.js"],"sourcesContent":["// получим элементы\nconst form = document.querySelector(\".form\");\nconst inpDelay = document.querySelector(\"input[name='delay']\");\nconst inpDelayStep = document.querySelector(\"input[name='step']\");\nconst inpAmount = document.querySelector(\"input[name='amount']\");\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      const promiseData = {position: position, delay: delay};\n      if (shouldResolve) {           \n        resolve(promiseData);\n      } else { \n        reject(promiseData);   \n      };\n    }, delay);\n  });  \n};\n\n\nlet currentDelay = 0; \n\nconst promiseGenerate = (event) =>{\n  event.preventDefault();\n  for (let i = 1; i <= (inpAmount.value); i++) {\n    if (i === 1) {\n      currentDelay += parseInt(inpDelay.value); \n    } else {\n      currentDelay += parseInt(inpDelayStep.value); \n    }        \n    createPromise(i,currentDelay)\n    .then(({ position, delay }) => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);  \n    })\n    .catch(({ position, delay }) => {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n  } \n};\n\nform.addEventListener(\"submit\",promiseGenerate);\n"],"names":["$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$inpDelay","$47d4ff9957288465$var$inpDelayStep","$47d4ff9957288465$var$inpAmount","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","shouldResolve","Math","random","promiseData","$47d4ff9957288465$var$currentDelay","addEventListener","event","preventDefault","i","value","parseInt","then","console","log","catch"],"version":3,"file":"03-promises.604d3471.js.map"}