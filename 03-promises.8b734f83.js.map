{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGe,MAATC,EAAOC,SAASC,cAAc,SAC9BC,EAAWF,SAASC,cAAc,uBAClCE,EAAeH,SAASC,cAAc,sBACtCG,EAAYJ,SAASC,cAAc,wBAEzC,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACT,MAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAc,CAACT,SAAUA,EAAUC,MAAOA,GAC5CK,EACFH,EAAQM,GAERL,EAAOK,EAAY,GAEpBR,EAAM,G,CAoCbR,EAAKiB,iBAAiB,UA7BGC,IACvBA,EAAMC,iBACN,IAAIC,EAAe,EACnB,IAAK,IAAIC,EAAI,EAAGA,GAAMhB,EAAUiB,MAAQD,IAEpCD,GADQ,IAANC,EACcE,SAASpB,EAASmB,OAElBC,SAASnB,EAAakB,OAExChB,EAAce,EAAED,GACfI,MAAK,EAACjB,SAAEA,EAAQC,MAAEA,MAEjBiB,EAAA3B,GAAS4B,OAAOC,QAAQ,uBAAqBpB,QAAiBC,MAAW,CAEvEoB,SAAS,EACTC,QAAST,GACR,IAEJU,OAAM,EAACvB,SAAEA,EAAQC,MAAEA,MAElBiB,EAAA3B,GAAS4B,OAAOK,QAAQ,sBAAoBxB,QAAeC,MAAW,CAEpEoB,SAAS,EACTC,QAAST,GACR,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\n// получим элементы\nconst form = document.querySelector(\".form\");\nconst inpDelay = document.querySelector(\"input[name='delay']\");\nconst inpDelayStep = document.querySelector(\"input[name='step']\");\nconst inpAmount = document.querySelector(\"input[name='amount']\");\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      const promiseData = {position: position, delay: delay};\n      if (shouldResolve) {           \n        resolve(promiseData);\n      } else { \n        reject(promiseData);   \n      };\n    }, delay);\n  });  \n};\n\n\n\n\nconst promiseGenerate = (event) =>{\n  event.preventDefault();\n  let currentDelay = 0; \n  for (let i = 1; i <= (inpAmount.value); i++) {\n    if (i === 1) {\n      currentDelay += parseInt(inpDelay.value); \n    } else {\n      currentDelay += parseInt(inpDelayStep.value); \n    }        \n    createPromise(i,currentDelay)\n    .then(({ position, delay }) => {\n      //console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);  \n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`,\n      {\n        useIcon: false,\n        timeout: currentDelay,\n      },);\n    })\n    .catch(({ position, delay }) => {\n      //console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`,\n      {\n        useIcon: false,\n        timeout: currentDelay,\n      },);\n    });\n  }\n};\n\nform.addEventListener(\"submit\",promiseGenerate);\n\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$inpDelay","$47d4ff9957288465$var$inpDelayStep","$47d4ff9957288465$var$inpAmount","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","shouldResolve","Math","random","promiseData","addEventListener","event","preventDefault","currentDelay","i","value","parseInt","then","$parcel$interopDefault","Notify","success","useIcon","timeout","catch","failure"],"version":3,"file":"03-promises.8b734f83.js.map"}